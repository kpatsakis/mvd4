static struct se_wwn tcm_vhost_make_tport(struct target_fabric_configfs struct config_group const char *name) struct tcm_vhost_tport * tport ; char * ptr ; u64 wwpn = 0 ; int off = 0 ; tport = kzalloc ( sizeof ( struct tcm_vhost_tport ) , GFP_KERNEL ); if ( ! tport )  tport -> tport_wwpn = wwpn; ptr = strstr ( name , "naa." ); if ( ptr )  tport -> tport_proto_id = SCSI_PROTOCOL_SAS; ptr = strstr ( name , "fc." ); if ( ptr )  tport -> tport_proto_id = SCSI_PROTOCOL_FCP; off = 3; ptr = strstr ( name , "iqn." ); if ( ptr )  tport -> tport_proto_id = SCSI_PROTOCOL_ISCSI; if ( strlen ( name ) >= TCM_VHOST_NAMELEN )  snprintf ( & tport -> tport_name [ 0 ] , TCM_VHOST_NAMELEN , "%s" , & name [ off ] ); pr_debug ( "TCM_VHost_ConfigFS: Allocated emulated " %s Address: %s\n" , tcm_vhost_dump_proto_id ( tport ) , name ) static char *tcm_vhost_dump_proto_id(struct tcm_vhost_tport *tport) switch ( tport -> tport_proto_id )  return & tport -> tport_wwn ; 