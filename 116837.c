static brcmf_cfg80211_join_ibss(struct wiphy *wiphy, struct net_device struct cfg80211_ibss_params *params) struct brcmf_if * ifp = netdev_priv ( ndev ) ; struct brcmf_cfg80211_profile * profile = & ifp -> vif -> profile ; s32 wsec = 0 ; s32 bcnprd ; if ( ! check_vif_up ( ifp -> vif ) )  static bool check_vif_up(struct brcmf_cfg80211_vif *vif) if ( ! test_bit ( BRCMF_VIF_STATUS_READY , & vif -> sme_state ) )  return false ; return true ; if ( params -> ssid )  if ( params -> privacy )  wsec |= WEP_ENABLED; err = brcmf_fil_iovar_int_set ( ifp , "wsec" , wsec ); if ( err )  if ( params -> beacon_interval )  bcnprd = params -> beacon_interval; bcnprd = 100; err = brcmf_fil_cmd_int_set ( ifp , BRCMF_C_SET_BCNPRD , bcnprd ); if ( err )  if ( params -> bssid )  memcpy ( profile -> bssid , params -> bssid , ETH_ALEN ); 