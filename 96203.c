cgiFormResultType char *name, char ***result) char * * stringArray ; cgiFormEntry * e ; int total = 0 ; e = cgiFormEntryFindFirst ( name ); static cgiFormEntry *cgiFormEntryFindFirst(char *name) return cgiFormEntryFindNext ( ) ; static cgiFormEntry *cgiFormEntryFindNext() while ( cgiFindPos )  cgiFormEntry * c = cgiFindPos ; cgiFindPos = c -> next; if ( ! strcmp ( c -> attr , cgiFindTarget ) )  return c ; return 0 ; if ( e != 0 )  total ++; while ( ( e = cgiFormEntryFindNext ( ) ) != 0 )  static cgiFormEntry *cgiFormEntryFindNext() while ( cgiFindPos )  cgiFormEntry * c = cgiFindPos ; cgiFindPos = c -> next; if ( ! strcmp ( c -> attr , cgiFindTarget ) )  return c ; return 0 ; stringArray = ( char * * ) malloc ( sizeof ( char * ) * ( total + 1 ) ); if ( ! stringArray )  stringArray [ i ] = 0; stringArray [ i ] = ( char * ) malloc ( max ); if ( stringArray [ i ] == 0 )  cgiStringArrayFree ( stringArray ); void cgiStringArrayFree(char **stringArray) char * * arrayItself = stringArray ; p = * stringArray; while ( p )  free ( p ); stringArray ++; p = * stringArray; free ( arrayItself ); strcpy ( stringArray [ i ] , e -> value ); cgiFormEntryString ( e , stringArray [ i ] , max , 1 ); static cgiFormResultType cgiFormEntry *e, char *result, int max, int newlines) int avail = max - 1 ; dp = result; sp = e -> value; ch = * sp; if ( ( ch == 13 ) || ( ch == 10 ) )  if ( ch == 13 )  if ( ! newlines )  if ( len >= avail )  * dp = 10; dp ++; if ( ch == '\0' )  if ( len >= avail )  * dp = ch; dp ++; sp ++; * dp = '\0'; i ++; * result = stringArray; * result = stringArray; 