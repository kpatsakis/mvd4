nsresult nsAutoPtr<DataBuffer> data) if ( ! pipeline_ )  if ( ! pipeline_ -> rtp_ . send_srtp_ )  ScopedDeletePtr < unsigned char > inner_data ( new unsigned char [ max_len ] ) ; memcpy ( inner_data , data -> data ( ) , data -> len ( ) ); nsresult res = pipeline_ -> rtp_ . send_srtp_ -> ProtectRtp ( inner_data , data -> len ( ) , max_len , & out_len ) ; if ( ! NS_SUCCEEDED ( res ) )  return res ; return pipeline_ -> SendPacket ( pipeline_ -> rtp_ . transport_ , inner_data , out_len ) ; 