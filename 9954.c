static int manager_skinny_show_device(struct mansession *s, const struct message *m) const char * a [ 4 ] ; const char * device ; device = astman_get_header ( m , "Device" ); if ( ast_strlen_zero ( device ) )  a [ 0 ] = "skinny"; a [ 1 ] = "show"; a [ 2 ] = "device"; a [ 3 ] = device; _skinny_show_device ( 1 , - 1 , s , m , 4 , a ); static char *_skinny_show_device(int type, int fd, struct mansession *s, const struct message *m, int argc, const char *argv[]) struct skinny_device * d ; if ( argc < 4 )  if ( ! strcasecmp ( argv [ 3 ] , d -> id ) || ! strcasecmp ( argv [ 3 ] , d -> name ) )  if ( type == 0 )  ast_cli ( fd , "Device Type: %s\n" , device2str ( d -> type ) ); static char *device2str(int type) char * tmp ; switch ( type )  if ( ! ( tmp = ast_threadstorage_get ( & device2str_threadbuf , DEVICE2STR_BUFSIZE ) ) )  snprintf ( tmp , DEVICE2STR_BUFSIZE , "UNKNOWN-%d" , type ); return tmp ; 