static void megasas_xfer_complete(SCSIRequest *req, uint32_t len) MegasasCmd * cmd = req -> hba_private ; uint32_t opcode ; if ( cmd -> frame -> header . frame_cmd != MFI_CMD_DCMD )  opcode = le32_to_cpu ( cmd -> frame -> dcmd . opcode ); if ( opcode == MFI_DCMD_PD_GET_INFO && cmd -> iov_buf )  struct mfi_pd_info * info = cmd -> iov_buf ; if ( info -> inquiry_data [ 0 ] == 0x7f )  if ( info -> vpd_page83 [ 0 ] == 0x7f )  memset ( info -> vpd_page83 , 0 , sizeof ( info -> vpd_page83 ) ); memcpy ( info -> vpd_page83 , buf , len ); memcpy ( info -> vpd_page83 , buf , sizeof ( info -> vpd_page83 ) ); 