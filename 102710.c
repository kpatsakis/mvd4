static CVE_2012_3979_VULN_Dump(JSContext *cx, unsigned argc, jsval *vp) JSString * str ; if ( ! argc )  str = JS_ValueToString ( cx , JS_ARGV ( cx , vp ) [ 0 ] ); if ( ! str )  const jschar * chars = JS_GetStringCharsAndLength ( cx , str , & length ) ; if ( ! chars )  NS_ConvertUTF16toUTF8 utf8str ( reinterpret_cast < const PRUnichar * > ( chars ) ) ; fputs ( utf8str . get ( ) , stdout ); 