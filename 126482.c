static brcmf_cfg80211_disconnect(struct wiphy *wiphy, struct net_device u16 reason_code) struct brcmf_if * ifp = netdev_priv ( ndev ) ; struct brcmf_cfg80211_profile * profile = & ifp -> vif -> profile ; struct brcmf_scb_val_le scbval ; if ( ! check_vif_up ( ifp -> vif ) )  static bool check_vif_up(struct brcmf_cfg80211_vif *vif) if ( ! test_bit ( BRCMF_VIF_STATUS_READY , & vif -> sme_state ) )  return false ; return true ; memcpy ( & scbval . ea , & profile -> bssid , ETH_ALEN ); scbval . val = cpu_to_le32 ( reason_code ); err = brcmf_fil_cmd_data_set ( ifp , BRCMF_C_DISASSOC , & scbval , sizeof ( scbval ) ); if ( err )  brcmf_err ( "error (%d)\n" , err ); return err ; 