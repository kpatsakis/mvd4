static int __ffs_func_bind_do_os_desc(enum ffs_os_desc_type struct usb_os_desc_header *h, void unsigned len, void *priv) struct ffs_function * func = priv ; switch ( type )  struct usb_ext_compat_desc * desc = data ; struct usb_os_desc_table * t ; t = & func -> function . os_desc_table [ desc -> bFirstInterfaceNumber ]; t -> if_id = func -> interfaces_nums [ desc -> bFirstInterfaceNumber ]; memcpy ( t -> os_desc -> ext_compat_id , & desc -> CompatibleID , ARRAY_SIZE ( desc -> CompatibleID ) + ARRAY_SIZE ( desc -> SubCompatibleID ) ); t -> if_id = func -> interfaces_nums [ h -> interface ]; t -> os_desc -> ext_prop_len += ext_prop -> name_len + ext_prop -> data_len + 14; ++ t -> os_desc -> ext_prop_count; list_add_tail ( & ext_prop -> entry , & t -> os_desc -> ext_prop ); 