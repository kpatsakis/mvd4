static pvscsi_on_cmd_setup_msg_ring(PVSCSIState *s) PVSCSICmdDescSetupMsgRing * rc = ( PVSCSICmdDescSetupMsgRing * ) s -> curr_cmd_data ; if ( ! s -> use_msg )  if ( s -> rings_info_valid )  pvscsi_ring_init_msg ( & s -> rings , rc ); static pvscsi_ring_init_msg(PVSCSIRingInfo *m, PVSCSICmdDescSetupMsgRing *ri) uint32_t len_log2 ; uint32_t ring_size ; ring_size = ri -> numPages * PVSCSI_MAX_NUM_MSG_ENTRIES_PER_PAGE; len_log2 = pvscsi_log2 ( ring_size - 1 ); static pvscsi_log2(uint32_t input) assert ( input > 0 ); 